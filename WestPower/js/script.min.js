document.addEventListener("DOMContentLoaded",(function(){function t(t){let e=!1;if("tel"==t.getAttribute("type"))e=Inputmask.isValid(t.value,{mask:"+7(999)999-9999"});else if("email"==t.getAttribute("type")){e=!!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t.value)}else if("text"==t.getAttribute("type")&&t.classList.contains("data__input")||"text"==t.getAttribute("type")){e=!!/^[A-Za-z0-9]\w{5,14}$/.test(t.value)}return!!e}document.querySelectorAll(".data__box").forEach(e=>{let i=e.querySelector(".data__input"),s=e.querySelector(".data__edit"),l=e.querySelector(".data__save");""!==i.value&&(s.style.display="flex",i.setAttribute("disabled","")),""==i.value&&(l.style.display="flex","password"==i.getAttribute("type")&&i.setAttribute("type","text")),s.addEventListener("click",()=>{var t,e,a;e=s,a=l,(t=i).removeAttribute("disabled"),e.style.display="none",a.style.display="flex","password"==t.getAttribute("type")&&t.setAttribute("type","text")}),l.addEventListener("click",e=>{var a,r,n;e.preventDefault(),t(i)?(r=s,n=l,(a=i).setAttribute("disabled",""),n.style.display="none",r.style.display="flex","text"==a.getAttribute("type")&&a.setAttribute("type","password"),i.removeAttribute("style")):i.style.borderColor="red"})}),new Inputmask({mask:"+7(999)999-9999",clearMaskOnLostFocus:!1,oncomplete:function(){t(this)},onincomplete:function(){t(this)}}).mask(document.querySelectorAll('input[type="tel"]'));let e=document.querySelectorAll(".js-toggle");for(i=0;i<e.length;i++)e[i].addEventListener("click",(function(t){t.preventDefault();let e=document.getElementById(this.dataset.container);if(e.classList.contains("active"))this.querySelector(".dropdown__arrow").removeAttribute("style"),e.style.height="0px",e.addEventListener("transitionend",(function(){e.classList.remove("active")}),{once:!0});else{this.querySelector(".dropdown__arrow").style.transform="rotate(360deg)",e.classList.add("active"),e.style.height="auto";let t=e.clientHeight+"px";e.style.height="0px",setTimeout((function(){e.style.height=t}),0)}}))}));